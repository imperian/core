<link rel="stylesheet" type="text/css" href="<%=staticPrefix%>/plugins/c9.ide.layout.classic/loading-flat.css" />
<div id="loadingcontainer" class="<%-: theme + (isDark ? " dark" : "") %>">
    <div id="loadingide">
        <div class="cool-message"></div>
        <div class="status" style="display:none"><div class="spinner"></div></div>
        
        <div id="content" class="loading-progress">
        </div>
        <div class="footer">
            <a href="https://docs.c9.io">Documentation</a> | 
            <a href="http://status.c9.io">Server Status</a> | 
            <a href="http://support.c9.io">Support</a>
        </div>
    </div>
</div>
<script>
    var loadingIde = document.querySelector("#loadingide");
    document.body.className = "loading " + loadingIde.className;

    var messages = [
        "It's better up here.",
        "Happy coding!",
        "Everything as you left it.",
        "Thank you Ada Lovelace!",
        "POST /desktop/era",
        "Try using VIM mode!",
        "Not your grandmother's IDE",
        "Makes your laptop cooler"
    ];
    
    var idx = Math.floor(Math.random() * messages.length);
    if (idx == messages.length) idx = messages.length - 1;
    var msg = messages[idx];
    
    if (~location.hash.indexOf("create")) {
        msg = "Creating Your New Workspace";
        location.hash = location.hash.replace(/&?create/, "");
    }
    
    document.querySelector("#loadingide .cool-message").innerHTML = msg;

    setTimeout(function(){
        var s = document.querySelector("#loadingide .status");
        if (s) s.style.display = "block";
    }, 2000);
    
    window.hideLoader = function(){
        var loader = document.getElementById("loadingcontainer");
        loader.parentNode.removeChild(loader);
        
        document.body.className = document.body.className.replace("loading " + loadingIde.className, "");
    }
</script>